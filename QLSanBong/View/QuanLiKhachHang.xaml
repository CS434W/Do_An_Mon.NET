<Window x:Class="QLSanBong.View.QuanLiKhachHang"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:QLSanBong"
        mc:Ignorable="d"
        Title="QuanLiKhachHang" Height="450" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="2*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Tiêu đề -->
        <Label Grid.Row="0" Content="QUẢN LÝ KHÁCH HÀNG" FontSize="18" FontWeight="Bold" 
            HorizontalAlignment="Center" Margin="10" Foreground="Blue"/>

        <!-- Thanh tìm kiếm -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="10" VerticalAlignment="Bottom">
            <TextBox x:Name="txtTimKiem" Width="200" Height="25" Margin="5,0"/>
            <Button x:Name="btnTimKiem" Content="Tìm kiếm" Width="80" Height="25" Margin="5,0"/>
        </StackPanel>

        <!-- Danh sách khách hàng -->
        <DataGrid x:Name="dgvKhachHang" Grid.Row="1" Margin="10" AutoGenerateColumns="False" 
               SelectionMode="Single" IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Mã KH" Binding="{Binding MaKH}" Width="80"/>
                <DataGridTextColumn Header="Tên KH" Binding="{Binding TenKH}" Width="200"/>
                <DataGridTextColumn Header="SĐT" Binding="{Binding SDT}" Width="120"/>
                <DataGridTextColumn Header="Ghi chú" Binding="{Binding GhiChu}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Thông tin chi tiết và lịch sử đặt sân -->
        <Grid Grid.Row="2" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- Thông tin chi tiết -->
            <GroupBox Grid.Column="0" Header="Thông tin chi tiết" Margin="0,0,5,0">
                <Grid Margin="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" Content="Mã KH:" Margin="5"/>
                    <TextBox x:Name="txtMaKH" Grid.Row="0" Grid.Column="1" Margin="5" IsReadOnly="True"/>

                    <Label Grid.Row="1" Grid.Column="0" Content="Tên KH:" Margin="5"/>
                    <TextBox x:Name="txtTenKH" Grid.Row="1" Grid.Column="1" Margin="5"/>

                    <Label Grid.Row="2" Grid.Column="0" Content="SĐT:" Margin="5"/>
                    <TextBox x:Name="txtSDT" Grid.Row="2" Grid.Column="1" Margin="5"/>

                    <Label Grid.Row="3" Grid.Column="0" Content="Ghi chú:" Margin="5"/>
                    <TextBox x:Name="txtGhiChu" Grid.Row="3" Grid.Column="1" Margin="5" Height="60" 
                          VerticalScrollBarVisibility="Auto" TextWrapping="Wrap"/>

                    <StackPanel Grid.Row="4" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="5">
                        <Button x:Name="btnThem" Content="Thêm" Width="70" Margin="5"/>
                        <Button x:Name="btnSua" Content="Sửa" Width="70" Margin="5"/>
                        <Button x:Name="btnXoa" Content="Xóa" Width="70" Margin="5"/>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <!-- Lịch sử đặt sân -->
            <GroupBox Grid.Column="1" Header="Lịch sử đặt sân" Margin="5,0,0,0">
                <DataGrid x:Name="dgvLichSuDatSan" Margin="5" AutoGenerateColumns="False" IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Mã đặt" Binding="{Binding MaDat}" Width="70"/>
                        <DataGridTextColumn Header="Sân" Binding="{Binding TenSan}" Width="120"/>
                        <DataGridTextColumn Header="Bắt đầu" Binding="{Binding ThoiGianBatDau, StringFormat={}{0:dd/MM/yyyy HH:mm}}" Width="120"/>
                        <DataGridTextColumn Header="Kết thúc" Binding="{Binding ThoiGianKetThuc, StringFormat={}{0:dd/MM/yyyy HH:mm}}" Width="120"/>
                        <DataGridTextColumn Header="Trạng thái" Binding="{Binding TinhTrang}" Width="100"/>
                    </DataGrid.Columns>
                </DataGrid>
            </GroupBox>
        </Grid>

        <!-- Nút điều khiển -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
            <Button x:Name="btnLamMoi" Content="Làm mới" Width="80" Margin="5"/>
            <Button x:Name="btnDong" Content="Đóng" Width="80" Margin="5"/>
        </StackPanel>
    </Grid>
</Window>
